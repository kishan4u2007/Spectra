(this.webpackJsonpcontract_moduler=this.webpackJsonpcontract_moduler||[]).push([[9],{1979:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(24),l=a(60),i=a(43),c=a(128),o=a(20),m=a(41),p=a(19),d=a(7),h=a(402),u=a(96),g=a.n(u),E=a(21),x=a(395),_=a.n(x),D=a(73),f=a(48);class N extends s.a.Component{constructor(){super(...arguments),this.state={msg:"",isOldestFirst:{}},this.onToggleGrid=(e,t)=>{let a=e;this.state.isOldestFirst[t]?a.sort((function(e,a){var n=e[t],s=a[t];return"expenseDescription"===t?(n=e[t])>(s=a[t])?-1:1:"expenseType"===t?(n=e[t].code)>(s=a[t].code)?-1:1:("amount"!==t&&"pmpm"!==t||(n=d.c.removeCharacter(n,"$"),n=d.c.removeCharacter(n,","),s=d.c.removeCharacter(s,"$"),s=d.c.removeCharacter(s,","),n.startsWith("(")&&(n=n.replace(/[()]/g,"").replace(/\%|,/g,""),n=parseFloat(-n)),s.startsWith("(")&&(s=s.replace(/[()]/g,"").replace(/\%|,/g,""),s=parseFloat(-s))),parseFloat(n)>parseFloat(s)?-1:1)})):a.sort((function(e,a){var n=e[t],s=a[t];return"expenseDescription"===t?(n=e[t])<(s=a[t])?-1:1:"expenseType"===t?(n=e[t].code)<(s=a[t].code)?-1:1:("amount"!==t&&"pmpm"!==t||(n=d.c.removeCharacter(n,","),n=d.c.removeCharacter(n,"$"),s=d.c.removeCharacter(s,"$"),s=d.c.removeCharacter(s,","),n.startsWith("(")&&(n=n.replace(/[()]/g,"").replace(/\%|,/g,""),n=parseFloat(-n)),s.startsWith("(")&&(s=s.replace(/[()]/g,"").replace(/\%|,/g,""),s=parseFloat(-s))),parseFloat(n)<parseFloat(s)?-1:1)})),this.setState({isOldestFirst:{[t]:!this.state.isOldestFirst[t]}})},this.onChangeMMYYYYDate=async(e,t,a)=>{t="terminationDate"===e?new Date(t.getFullYear(),t.getMonth()+1,0):new Date(t.getFullYear(),t.getMonth(),1);const n=g()(t).unix();await this.props.handleManualExpenses(e,n,a)},this.transformStringDate=(e,t)=>{if("terminationDate"===e){let e=new Date(1e3*t);t=new Date(e.getFullYear(),e.getMonth()+1,0)}else{let e=new Date(1e3*t);t=new Date(e.getFullYear(),e.getMonth(),1)}return d.b.transformStringDate(t,d.a.MMM_DD_YYYY_MOMENT)},this.updateGeographyError=async e=>{this.setState({msg:e}),e&&setTimeout(()=>this.setState({msg:""}),5e3)}}render(){var e;const t={...this.props.contract},a=[...null===(e=this.props.menu[this.props.getCurrentStep.step])||void 0===e?void 0:e.errors];new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,currencySign:"accounting"}),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return s.a.createElement("div",{className:"table "},s.a.createElement("div",{className:"error-geo"},this.props.editable&&this.state.msg),this.props.editable&&s.a.createElement("div",{className:"error-geo"},this.props.error&&this.props.error[0]),this.props.dataRange&&s.a.createElement("div",{className:"flex-1"},s.a.createElement("div",{className:"row justify-content-end",style:{marginRight:"1px",marginBottom:"10px",fontSize:"14px"}},"Received Non-Claims Data Range: ",this.props.date_range)),s.a.createElement("div",{className:"p-0 m-0 table-header pl-2"},s.a.createElement("div",{className:"flex-1"},this.props.title),this.props.editable&&s.a.createElement("div",{className:"flex-1"},s.a.createElement("div",{className:"row justify-content-end"},s.a.createElement(o.a,{tool:!0,tool_id:"add",tool_text:"Add",type:"fa",className:"icons_color",icon:p.u,onClick:async()=>{let e=[...this.props.contract.non_claims_expense_manual],t=e[0].items&&e[0].items.length;var a=new Date(1e3*g()().unix()),n=new Date(a.getFullYear(),a.getMonth()+1,0);const s=g()(n).unix();n=new Date(a.getFullYear(),a.getMonth(),1);const r=g()(n).unix();t<25?e[0].items.push({sno:t+1,expenseDescription:"",expenseType:{code:"PMPM",id:"PMPM",value:"PMPM"},effectiveDate:r,terminationDate:s,amount:"-",pmpm:"-"}):await this.updateGeographyError(E.b.MLR_MAXIMUM_ROW),this.props.actionsContract.changeContract({...this.props.contract,non_claims_expense_manual:e})},style:{marginLeft:"8px"}}),s.a.createElement(o.a,{tool:!0,tool_id:"delete",tool_text:"Delete",type:"fa",icon:p.C,onClick:this.props.handleDeletePopup,className:"iconsColor",style:{marginRight:"20px",marginLeft:"8px"}})))),s.a.createElement("table",{className:"table-default non-claims-expense"},s.a.createElement("thead",null,this.props.editable?s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement(m.a,{checked:t.non_claims_expense_manual&&t.non_claims_expense_manual[0].all,onToggle:async e=>{let a=t.non_claims_expense_manual,n=a[0];n.all=e,n.checkeds=e?t.non_claims_expense_manual&&t.non_claims_expense_manual[0].items.map((e,t)=>t):[],await this.props.actionsContract.changeContract({...t,non_claims_expense_manual:a})}})),s.a.createElement("th",{className:"text-left width25"},s.a.createElement(c.a,{style:{float:"left",alignItems:"center"},child:[s.a.createElement(r.a,{title:"Expense Description",required:!0})],onClick:()=>{let e=[...this.props.contract.non_claims_expense_manual][0].items;this.onToggleGrid(e,"expenseDescription")}})),s.a.createElement("th",{className:"text-left width20"},s.a.createElement(c.a,{style:{float:"left",alignItems:"center"},child:[s.a.createElement(r.a,{title:"Expense Type",required:!0})],onClick:()=>{let e=[...this.props.contract.non_claims_expense_manual][0].items;this.onToggleGrid(e,"expenseType")}})),s.a.createElement("th",{className:"width15"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"Effective Date",required:!0})],onClick:()=>{let e=[...this.props.contract.non_claims_expense_manual][0].items;this.onToggleGrid(e,"effectiveDate")}})),s.a.createElement("th",{className:"width15"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"Termination Date",required:!0})],onClick:()=>{let e=[...this.props.contract.non_claims_expense_manual][0].items;this.onToggleGrid(e,"terminationDate")}})),s.a.createElement("th",{className:"width10"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"Amount",required:!0})],onClick:()=>{let e=[...this.props.contract.non_claims_expense_manual][0].items;this.onToggleGrid(e,"amount")}})),s.a.createElement("th",{className:"width10"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"PMPM",required:!0})],onClick:()=>{let e=[...this.props.contract.non_claims_expense_manual][0].items;this.onToggleGrid(e,"pmpm")}}))):s.a.createElement("tr",null,s.a.createElement("th",null,"SL #"),s.a.createElement("th",{className:"text-left"},s.a.createElement(c.a,{style:{float:"left",alignItems:"center"},child:[s.a.createElement(r.a,{title:"Expense Description"})],onClick:()=>{let e=[..."From Data Received (D)"===this.props.title?this.props.contract.non_claims_expense_data:this.props.non_claims_expense_total][0].items;this.onToggleGrid(e,"expenseDescription")}})),s.a.createElement("th",{className:"text-left"}," ",s.a.createElement(c.a,{style:{float:"left",alignItems:"center"},child:[s.a.createElement(r.a,{title:"Expense Type"})],onClick:()=>{let e=[..."From Data Received (D)"===this.props.title?this.props.contract.non_claims_expense_data:this.props.non_claims_expense_total][0].items;this.onToggleGrid(e,"expenseType")}})),s.a.createElement("th",{className:"text-right"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"Effective Date"})],onClick:()=>{let e=[..."From Data Received (D)"===this.props.title?this.props.contract.non_claims_expense_data:this.props.non_claims_expense_total][0].items;this.onToggleGrid(e,"effectiveDate")}})),s.a.createElement("th",{className:"text-right"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"Termination Date"})],onClick:()=>{let e=[..."From Data Received (D)"===this.props.title?this.props.contract.non_claims_expense_data:this.props.non_claims_expense_total][0].items;this.onToggleGrid(e,"terminationDate")}})),s.a.createElement("th",{className:"text-right"},s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"Amount"})],onClick:()=>{let e=[..."From Data Received (D)"===this.props.title?this.props.contract.non_claims_expense_data:this.props.non_claims_expense_total][0].items;this.onToggleGrid(e,"amount")}})),s.a.createElement("th",{className:"text-right"}," ",s.a.createElement(c.a,{style:{alignItems:"center"},child:[s.a.createElement(r.a,{title:"PMPM"})],onClick:()=>{let e=[..."From Data Received (D)"===this.props.title?this.props.contract.non_claims_expense_data:this.props.non_claims_expense_total][0].items;this.onToggleGrid(e,"pmpm")}})))),s.a.createElement("tbody",null,!this.props.editable&&this.props.dataArray&&this.props.dataArray[0].items.map((e,t)=>s.a.createElement("tr",null,s.a.createElement("td",{className:"text-left"},t+1),this.props.isSection?s.a.createElement("td",{className:"text-left "},e.expenseDescription+e.section):s.a.createElement("td",{className:"text-left "},e.expenseDescription),s.a.createElement("td",{className:"text-left"},e.expenseType&&e.expenseType.value),s.a.createElement("td",{className:"text-right"},g.a.unix(e.effectiveDate).format(d.a.MMM_DD_YYYY)),s.a.createElement("td",{className:"text-right"},g.a.unix(e.terminationDate).format(d.a.MMM_DD_YYYY)),s.a.createElement("td",{className:"text-right ".concat("string"===typeof e.amount&&e.amount.startsWith("-")||e.amount.startsWith("(")?"red":"")},"$0"===e.amount||""===e.amount?"-":e.amount),s.a.createElement("td",{className:"text-right ".concat("string"===typeof e.pmpm&&e.pmpm.startsWith("-")||e.pmpm.startsWith("(")?"red":"")},"$0.00"===e.pmpm||""===e.pmpm?"-":e.pmpm))),this.props.editable&&this.props.dataArray&&this.props.dataArray[0].items.map((e,n)=>s.a.createElement("tr",{className:"expenseDescription"},s.a.createElement("td",{className:"text-left width5"},s.a.createElement(m.a,{checked:!(!t.non_claims_expense_manual||!t.non_claims_expense_manual[0].checkeds)&&t.non_claims_expense_manual[0].checkeds.includes(n),onToggle:async()=>{let e=t.non_claims_expense_manual,a=e[0];a.checkeds=a.checkeds?a.checkeds.includes(n)?a.checkeds.filter(e=>e!=n):[...a.checkeds,n]:[n],a.items.length===a.checkeds.length?a.all=!0:a.all=!1,await this.props.actionsContract.changeContract({...t,non_claims_expense_manual:e})}})),s.a.createElement("td",{className:"text-left width20 expenseDesc ".concat(!e.expenseDescription&&this.props.clientSideError?"errorInput":"")},s.a.createElement(l.a,{value:e.expenseDescription,handleChange:e=>this.props.handleManualExpenses("expenseDescription",e.value,n)}),!e.expenseDescription&&s.a.createElement("div",{className:"required-field-label"},this.props.clientSideError)),s.a.createElement("td",{className:"text-left width20"},s.a.createElement(i.a,{normalCase:!0,selected:e.expenseType,options:this.props.expense_type,onChange:e=>this.props.handleManualExpenses("expenseType",e,n)})),s.a.createElement("td",{className:"text-right effectiveData "},s.a.createElement("div",{className:"box-date-container"},s.a.createElement(_.a,{dateFormat:d.a.MMM_DD_YYYY_MOMENT,showMonthYearPicker:!0,selected:this.transformStringDate("effectiveDate",e.effectiveDate),onChange:async e=>{await this.onChangeMMYYYYDate("effectiveDate",e,n)},customInput:s.a.createElement("div",{className:"box-input-container h-40"},s.a.createElement(o.a,{icon:h.a,style:{color:"#828282"}}),s.a.createElement("input",{className:"box-input m-0 p-0 h-100 w-80",value:g.a.unix(e.effectiveDate).format(d.a.MMM_DD_YYYY),placeholder:"01 Jan 1970"}),s.a.createElement(D.a,{required:a.includes("performance_period_first_date")}))}))),s.a.createElement("td",{className:"text-right width15"},s.a.createElement("div",{className:"box-date-container"},s.a.createElement(_.a,{dateFormat:d.a.MMM_DD_YYYY_MOMENT,showMonthYearPicker:!0,selected:this.transformStringDate("terminationDate",e.terminationDate),minDate:new Date(1e3*e.effectiveDate),onChange:async e=>{await this.onChangeMMYYYYDate("terminationDate",e,n)},customInput:s.a.createElement("div",{className:"box-input-container h-40",style:{width:"125px"}},s.a.createElement(o.a,{icon:h.a,style:{color:"#828282"}}),s.a.createElement("input",{className:"box-input m-0 p-0 h-100 w-80",value:g.a.unix(e.terminationDate).format(d.a.MMM_DD_YYYY),placeholder:"Jan 01, 1970"}),s.a.createElement(D.a,{required:a.includes("performance_period_first_date")}))}))),s.a.createElement("td",{className:"text-right width15 input-container ".concat(e.amount.includes("-")||e.amount.includes("(")?"red":""," ").concat("FIXED"===e.expenseType.code&&(!e.amount||1===e.amount.length&&e.amount.startsWith("-"))&&this.props.amountClientSideError?"errorInput":"")},s.a.createElement(f.a,{className:"form-control custom-input ".concat("PMPM"===e.expenseType.code&&"disable_div"),disabled:"PMPM"===e.expenseType.code,decimalScale:0,value:e.amount?e.amount:"$0",thousandSeparator:!0,prefix:"$",onFocus:e=>setTimeout(e.target.select.bind(e.target),20),onValueChange:e=>{const{formattedValue:t,value:a}=e;this.props.handleManualExpenses("amount",t,n)}}),"FIXED"===e.expenseType.code&&(!e.amount||1===e.amount.length&&e.amount.startsWith("-"))&&s.a.createElement("div",{className:"required-field-label"},this.props.amountClientSideError)),s.a.createElement("td",{className:"text-right width10 input-container  ".concat(e.pmpm.includes("-")||e.pmpm.includes("(")?"red":"","  ").concat("PMPM"===e.expenseType.code&&(!e.pmpm||1===e.pmpm.length&&e.pmpm.startsWith("-"))&&this.props.pmpmClientSideError?"errorInput":"")},s.a.createElement(f.a,{className:"form-control custom-input ".concat("PMPM"!==e.expenseType.code&&"disable_div"),disabled:"PMPM"!==e.expenseType.code,decimalScale:2,fixedDecimalScale:!0,value:e.pmpm?e.pmpm:"$0",thousandSeparator:!0,prefix:"$",onFocus:e=>setTimeout(e.target.select.bind(e.target),20),onValueChange:e=>{const{formattedValue:t,value:a}=e;this.props.handleManualExpenses("pmpm",t,n)}}),"PMPM"===e.expenseType.code&&(!e.pmpm||1===e.pmpm.length&&e.pmpm.startsWith("-"))&&s.a.createElement("div",{className:"required-field-label"},this.props.pmpmClientSideError))))),s.a.createElement("tfoot",null,this.props.dataArray&&this.props.dataArray[0].total.map(e=>s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",null,s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:"text-right footer-total"},this.props.totalTitle),this.props.numberFormat?s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"text-right width300 footer-total ".concat(e.amount.toString().startsWith("-")||e.amount.toString().startsWith("(")?"red":"")},e.amount),s.a.createElement("td",{className:"text-right width300 footer-total ".concat(e.pmpm.toString().startsWith("-")||e.pmpm.toString().startsWith("(")?"red":""," ")},e.pmpm)):s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"text-right width300 footer-total ".concat(e.amount.includes("-")||e.amount.includes("(")?"red":"")},e.amount),s.a.createElement("td",{className:"text-right width300 footer-total  ".concat(e.pmpm.includes("-")||e.pmpm.includes("(")?"red":"")},e.pmpm))))),this.props.editable&&s.a.createElement("tr",null,s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:""}),s.a.createElement("td",{className:"text-center width300 footer-total"},s.a.createElement("input",{type:"button",value:"Save",className:"btn btn-success btn-calculate ",onClick:this.props.handleCalculate,style:{margin:"auto"}}))))))}}t.default=N}}]);